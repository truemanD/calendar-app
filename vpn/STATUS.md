# –°—Ç–∞—Ç—É—Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è VPN —Å–µ—Ä–≤–µ—Ä–∞

## ‚úÖ –ß—Ç–æ –≥–æ—Ç–æ–≤–æ:

1. **–°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è —Å–æ–∑–¥–∞–Ω—ã:**
   - `deploy_vpn.py` - Python —Å–∫—Ä–∏–ø—Ç —Å –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π
   - `deploy_vpn_doctl.sh` - Bash —Å–∫—Ä–∏–ø—Ç —á–µ—Ä–µ–∑ doctl
   - `delete_vpn.py` / `delete_vpn_doctl.sh` - –°–∫—Ä–∏–ø—Ç—ã —É–¥–∞–ª–µ–Ω–∏—è

2. **–ö–æ–¥ —Ä–∞–∑–º–µ—â–µ–Ω –≤ GitHub:**
   - –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: https://github.com/truemanD/calendar-app
   - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `/vpn`
   - –í—Å–µ —Ñ–∞–π–ª—ã –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã

3. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ droplet (—Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π: s-1vcpu-1gb, ~$6/–º–µ—Å—è—Ü)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ WireGuard
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –≤ `wg0.conf`

## ‚ö†Ô∏è –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞:

–î–ª—è –∑–∞–ø—É—Å–∫–∞ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω –≤–∞–ª–∏–¥–Ω—ã–π DigitalOcean API —Ç–æ–∫–µ–Ω.

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://cloud.digitalocean.com/account/api/tokens
2. –ù–∞–∂–º–∏—Ç–µ "Generate New Token"
3. –î–∞–π—Ç–µ –∏–º—è: "VPN Deployment"
4. –í—ã–±–µ—Ä–∏—Ç–µ "Write" –ø—Ä–∞–≤–∞
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω

### –ó–∞–ø—É—Å–∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

```bash
cd /Users/aleksey.diyanov/Projects/pet/DO/vpn

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω
export DIGITALOCEAN_ACCESS_TOKEN='your-token-here'

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
python3 deploy_vpn.py
```

–ò–ª–∏ —á–µ—Ä–µ–∑ doctl:

```bash
doctl auth init  # –í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω
./deploy_vpn_doctl.sh
```

## üìã –ß—Ç–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–æ:

- **Droplet:** vpn-server
- **–†–µ–≥–∏–æ–Ω:** Frankfurt (fra1) - –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –¥–µ—à–µ–≤—ã—Ö
- **–†–∞–∑–º–µ—Ä:** s-1vcpu-1gb - —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π ($6/–º–µ—Å—è—Ü)
- **–û–°:** Ubuntu 22.04
- **VPN:** WireGuard –Ω–∞ –ø–æ—Ä—Ç—É 51820

## üì± –ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

1. –§–∞–π–ª `wg0.conf` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
2. –§–∞–π–ª `vpn_info.json` –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Ä–≤–µ—Ä–µ
3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ `wg0.conf` –≤ WireGuard –∫–ª–∏–µ–Ω—Ç
4. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPN

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞:

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑:

```bash
# –ß–µ—Ä–µ–∑ doctl
doctl compute droplet list

# –ò–ª–∏ —á–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç (–µ—Å–ª–∏ –µ—Å—Ç—å vpn_info.json)
python3 -c "import json; print(json.load(open('vpn_info.json')))"
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å:

- **Droplet:** ~$6/–º–µ—Å—è—Ü
- **–¢—Ä–∞—Ñ–∏–∫:** –í–∫–ª—é—á–µ–Ω –≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å
- **–ò—Ç–æ–≥–æ:** ~$6/–º–µ—Å—è—Ü –∑–∞ VPN —Å–µ—Ä–≤–µ—Ä

## üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ:

```bash
python3 delete_vpn.py
# –∏–ª–∏
./delete_vpn_doctl.sh
```

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** MCP –∞–≥–µ–Ω—Ç DigitalOcean –Ω–µ –∏–º–µ–µ—Ç —Ñ—É–Ω–∫—Ü–∏–π –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è droplets –Ω–∞–ø—Ä—è–º—É—é, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è API —á–µ—Ä–µ–∑ Python/doctl —Å–∫—Ä–∏–ø—Ç—ã.
